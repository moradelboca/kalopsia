(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){e.exports=a(115)},109:function(e,t,a){},111:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(78),l=a.n(c),o=(a(109),a(111),a(24)),i=a(4),u=a(11),m=a(168),s=a(165),E=a(170),f=a(171),d=a(87),p=a.n(d),b=a(161),g=a(163),h=a(166),j=a(79),O=a.n(j),v=a(18),k=a(35),y=r.a.createContext();function C(e){var t=e.children,a=Object(n.useState)([]),c=Object(u.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(l.length),m=Object(u.a)(i,2),s=m[0],E=m[1];return Object(n.useEffect)(function(){E(l.length)},[l]),r.a.createElement(y.Provider,{value:{cart:l,cartLength:s,getTotalPrice:function(){return l.reduce(function(e,t){return e+t.quantity*t.price},0)},isInCart:function(e){return l.find(function(t){return t.id==e})},removeItem:function(e){o(l.filter(function(t){return t.id!=e}))},addItem:function(e,t){var a=Object(k.a)({},e,{quantity:t}),n=l.findIndex(function(t){return t.id==e.id});if(-1!=n){var r=Object(v.a)(l);r[n].quantity+=t,o(r)}else o([].concat(Object(v.a)(l),[a]))},clear:function(){o([])}}},t)}function x(){var e=Object(n.useContext)(y).cartLength,t=Object(i.f)();return r.a.createElement("div",{onClick:function(){return t("/cart")}},r.a.createElement("p",null,e),r.a.createElement(O.a,null))}function I(){var e=r.a.useState(null),t=Object(u.a)(e,2),a=t[0],n=t[1],c=function(){n(null)};return r.a.createElement(s.a,{id:"navbar"},r.a.createElement(m.a,{position:"static",sx:{bgcolor:"common.white"}},r.a.createElement(E.a,null,r.a.createElement(o.b,{to:"/"},r.a.createElement("img",{src:"https://i.ibb.co/gF6zt7b/logokalopsia.png",alt:"Logo Kalopsia",height:50})),r.a.createElement(s.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}}},r.a.createElement(f.a,{onClick:function(e){n(e.currentTarget)},color:"primary"},r.a.createElement(p.a,null)),r.a.createElement(b.a,{id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(a),onClose:c,sx:{display:{xs:"block",md:"none"}}},r.a.createElement(g.a,{onClick:c},r.a.createElement(o.b,{className:"link",to:"/"},"Inicio")),r.a.createElement(g.a,{onClick:c},r.a.createElement(o.b,{className:"link",to:"/category/1"},"Collares")),r.a.createElement(g.a,{onClick:c},r.a.createElement(o.b,{className:"link",to:"/category/2"},"Pulseras")))),r.a.createElement(s.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex",justifyContent:"space-evenly"}}},r.a.createElement(o.b,{className:"link",to:"/"},r.a.createElement(h.a,{sx:{display:"block"}},"Inicio")),r.a.createElement(o.b,{className:"link",to:"/category/1"},r.a.createElement(h.a,{sx:{display:"block"}},"Collares")),r.a.createElement(o.b,{className:"link",to:"/category/2"},r.a.createElement(h.a,{sx:{display:"block"}},"Pulseras"))),r.a.createElement(x,null))))}var w=a(88),S=a.n(w),N=a(89),D=a.n(N);function L(){return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement(s.a,{sx:{display:"flex",justifyContent:"center",gap:10}},r.a.createElement("a",{href:"http://",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(S.a,null)),r.a.createElement("a",{href:"http://",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(D.a,null))))}function P(e){var t=e.item,a=e.stock,c=Object(n.useContext)(y).addItem,l=Object(n.useState)(!1),o=Object(u.a)(l,2),m=o[0],s=o[1],E=Object(n.useState)(0),f=Object(u.a)(E,2),d=f[0],p=f[1],b=Object(i.f)();return r.a.createElement("div",null,m?r.a.createElement("div",null,r.a.createElement(h.a,{className:"btn btn-warning",onClick:function(){return b("/")}},"Seguir Comprando"),r.a.createElement(h.a,{className:"btn btn-info",onClick:function(){return b("/cart")}},"Ir al carrito")):r.a.createElement("div",null,r.a.createElement("h3",null,"Ingrese la cantidad"),r.a.createElement("p",null,d),r.a.createElement(h.a,{onClick:function(){d>0&&p(d-1)}},"-"),r.a.createElement(h.a,{onClick:function(){d<a&&p(d+1)}},"+"),r.a.createElement(h.a,{onClick:function(){d>0&&(c(t,d),s(!0))}},"Agregar al carrito")))}function z(e){var t=e.item;return r.a.createElement("div",null,r.a.createElement("h2",null,t.name),r.a.createElement("img",{src:t.imageURL,alt:"Foto de ".concat(t.name)}),r.a.createElement("p",null,t.description),r.a.createElement(P,{item:t,stock:5}))}var F=a(33);function T(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!0),o=Object(u.a)(l,2),m=o[0],s=o[1],E=Object(n.useState)(!1),f=Object(u.a)(E,2),d=f[0],p=f[1],b=Object(i.g)().itemID;return Object(n.useEffect)(function(){var e=Object(F.f)(),t=Object(F.c)(e,"products",b);Object(F.d)(t).then(function(e){c(Object(k.a)({},e.data(),{id:e.id})),s(!1),p(!1)})},[]),r.a.createElement("div",null,m&&r.a.createElement("p",null,"Loading..."),d&&r.a.createElement("p",null,"Error!"),a.id&&r.a.createElement(z,{item:a}))}var G=a(172),q=a(173),B=a(175);function _(e){var t=e.item;return r.a.createElement(o.b,{key:t.id,className:"link",to:"/item/".concat(t.id)},r.a.createElement(G.a,{sx:{width:200}},r.a.createElement(B.a,null,r.a.createElement(q.a,null,r.a.createElement("h3",null,t.name),r.a.createElement("p",null,"$",t.price),r.a.createElement("img",{src:t.imageURL,alt:"Foto de ".concat(t.name),width:"100%"})))))}function A(e){var t=e.items;return r.a.createElement(s.a,{sx:{display:"flex",flexWrap:"wrap",gap:10}},t.map(function(e){return r.a.createElement(_,{key:e.id,item:e})}))}var $={};function R(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(u.a)(l,2),m=o[0],s=o[1],E=Object(n.useState)(!1),f=Object(u.a)(E,2),d=f[0],p=f[1],b=Object(i.g)().categoryID;return Object(n.useEffect)(function(){var e=Object(F.f)(),t=Object(F.b)(e,"products");Object(F.e)(t).then(function(e){$=e.docs.map(function(e){return Object(k.a)({},e.data(),{id:e.id})}),s(b?$.filter(function(e){return e.category==b}):$)}).catch(function(e){p(!0)}).finally(function(){c(!1)})},[]),Object(n.useEffect)(function(){$.length&&s(b?$.filter(function(e){return e.category==b}):$)},[b]),r.a.createElement("div",null,r.a.createElement("p",null,d&&"Error!"),a?r.a.createElement("p",null,"Loading..."):r.a.createElement(A,{items:m}))}var V=a(116),H=a(167),J=a(174);function K(e){var t=e.item,a=Object(n.useContext)(y).removeItem;return r.a.createElement(G.a,{variant:"outlined"},r.a.createElement(q.a,null,r.a.createElement("h2",null,t.name),r.a.createElement("p",null,"Cantidad: ",t.quantity),r.a.createElement("p",null,"$",t.price," c/u"),r.a.createElement("p",null,"Precio: $",t.price*t.quantity)),r.a.createElement(J.a,null,r.a.createElement(h.a,{size:"small",onClick:function(){return a(t.id)}},"Eliminar")))}function U(){var e=Object(n.useContext)(y),t=e.cart,a=e.cartLength,c=e.getTotalPrice,l=e.clear,o=Object(i.f)();return r.a.createElement("div",null,a?r.a.createElement("div",null,t.map(function(e){return r.a.createElement(K,{key:e.id,item:e})}),r.a.createElement("p",null,"Precio total: $",c()),r.a.createElement(h.a,{size:"small",onClick:l},"Vaciar Carrito"),r.a.createElement(h.a,{size:"small",onClick:function(){return o("/checkout")}},"Continuar Compra")):r.a.createElement("div",null,r.a.createElement("p",null,"No hay productos en el carrito!"),r.a.createElement(h.a,{size:"small",onClick:function(){return o("/")}},"Volver")))}var M={name:"",phone:null,direction:"",email:""};function W(){var e=Object(i.f)(),t=Object(n.useContext)(y),a=t.cart,c=t.getTotalPrice,l=t.cartLength,o=t.clear,m=Object(n.useState)(""),s=Object(u.a)(m,2),E=s[0],f=s[1],d=Object(n.useState)(!1),p=Object(u.a)(d,2),b=p[0],g=p[1],j=Object(n.useState)(""),O=Object(u.a)(j,2),v=O[0],C=O[1];function x(e){M[e.target.name]=e.target.value}return r.a.createElement("div",null,r.a.createElement("h2",null,v?"Gracias por tu compra!":"Datos personales del comprador"),b&&r.a.createElement("p",null,"Cargando..."),v?r.a.createElement("div",null,r.a.createElement("p",null,"Tu numero de orden es: ",v),r.a.createElement(h.a,{onClick:function(){return e("/")}},"Salir")):r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l?M.name.length<4?f("El nombre no puede tener menos de 4 caracteres!"):!M.phone||M.phone.length<6?f("El n\xfamero de telefono ingresado es demasiado corto!"):M.email&&M.email.includes("@")?M.direction?(f(""),function(){g(!0);var e={buyer:Object(k.a)({},M),items:Object(k.a)({},a),totalPrice:c()},t=Object(F.f)(),n=Object(F.b)(t,"orders");Object(F.a)(n,e).then(function(e){C(e.id),o()}).catch(function(e){f("Hubo un error enviando su orden. Intente nuevamente.")}).finally(function(){return g(!1)})}()):f("Debes ingresar una direccion!"):f("El mail ingresado es incorrecto!"):f("No tienes items en el carrito!")}},r.a.createElement("input",{type:"text",autoComplete:"new-password",placeholder:"Nombre y Apellido",name:"name",onChange:x}),r.a.createElement("input",{type:"number",placeholder:"Telefono",name:"phone",onChange:x}),r.a.createElement("input",{type:"text",autoComplete:"new-password",placeholder:"Email",name:"email",onChange:x}),r.a.createElement("input",{type:"text",autoComplete:"new-password",placeholder:"Direccion de envio",name:"direction",onChange:x}),r.a.createElement(h.a,{type:"submit"},"Finalizar compra")),E&&r.a.createElement("p",null,E))}var Q=Object(V.a)({palette:{common:{white:"#F2EFE9"},primary:{main:"#0e4473",light:"#486fa2",dark:"#001e47",contrastText:"ffffff"},secondary:{main:"#eabe54",light:"#fff084",dark:"#b58e23",contrastText:"000000"}},spacing:function(e){return 1*e}});var X=function(){return r.a.createElement(C,null,r.a.createElement(H.a,{theme:Q},r.a.createElement(o.a,null,r.a.createElement(I,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",element:r.a.createElement(R,null)}),r.a.createElement(i.a,{exact:!0,path:"/category/:categoryID",element:r.a.createElement(R,null)}),r.a.createElement(i.a,{exact:!0,path:"/item/:itemID",element:r.a.createElement(T,null)}),r.a.createElement(i.a,{exact:!0,path:"/cart",element:r.a.createElement(U,null)}),r.a.createElement(i.a,{exact:!0,path:"/checkout",element:r.a.createElement(W,null)})),r.a.createElement(L,null))))},Y=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,160)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)})},Z=a(90);Object(Z.a)({apiKey:"AIzaSyBDeVH954z2GGI_5AGs1r553vxfxt_l9_I",authDomain:"kalopsiaaccesorios.firebaseapp.com",projectId:"kalopsiaaccesorios",storageBucket:"kalopsiaaccesorios.appspot.com",messagingSenderId:"843386033867",appId:"1:843386033867:web:560182cf4d30712708ad4e"});l.a.createRoot(document.getElementById("root")).render(r.a.createElement(X,null)),Y()}},[[102,3,2]]]);
//# sourceMappingURL=main.7fc7ad3c.chunk.js.map